!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);i(1);var n=document.querySelector(".wrapper>div"),r=function(e){var t=this,i=function(){function e(e){var t=e.type,i=void 0===t?"range":t,n=e.range,r=void 0===n?100:n,s=e.start,o=void 0===s?0:s,l=e.end,u=void 0===l?null:l,h=e.origin,d=void 0===h?0:h,a=e.step,c=void 0===a?1:a;this.type=i,this._start=Math.max(o-d,0),this._end=null===u?r:u-d,this.range=r,this.origin=d,this.step=c,this.value=[this.start+this.origin,this.end+this.origin]}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(e){this._start=Math.min(this.end,Math.max(e,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(e){this._end=Math.max(this.start,Math.min(e,this.range))},enumerable:!1,configurable:!0}),e.prototype.update=function(e){var t=e.startPrc,i=void 0===t?this.start:t,n=e.endPrc,r=void 0===n?this.end:n,s=e.direct;if(void 0!==s&&s)this._end=100/this.range*(r-this.origin),this._start=100/this.range*(i-this.origin);else{var o=this.range/100*i,l=this.range/100*r;(l-this.end>=.7*this.step||this.end-l>=.7*this.step||l==this.range)&&(this.end=Math.round(l/this.step)*this.step),(o-this.start>=.7*this.step||this.start-o>=.7*this.step||0==o)&&(this.start=Math.round(o/this.step)*this.step)}this.value=[this.start+this.origin,this.end+this.origin],this.updated(100/this.range*this.start,100/this.range*this.end)},e}(),n=function(){function e(){}return e.prototype.shiftReac=function(e){this.callToModel(e)},e.prototype.updateReact=function(e,t){this.callToView(e,t)},e}(),r=function(){function e(e){var i=e.orient,n=void 0===i?"horizontal":i,r=e.range,s=void 0===r?100:r,o=e.origin,l=void 0===o?0:o,u=e.start,h=void 0===u?0:u,d=e.end,a=void 0===d?null:d,c=e.tumblerSize,m=void 0===c?"16px":c,f=e.tumblerColor,g=void 0===f?"darkblue":f,p=e.tumblerRoundness,b=void 0===p?"50%":p,v=e.tumblerBorders,y=void 0===v?"none":v,_=e.lineHeight,S=void 0===_?"12px":_,M=e.lineColor,R=void 0===M?"blue":M,P=e.lineRoundness,w=void 0===P?"10px":P;e.selectedBackGround;this.LineClass=function(e){var t=e.height,i=void 0===t?"12px":t,n=e.color,r=void 0===n?"blue":n,s=e.roundness,o=void 0===s?"10px":s;this.height=i,this.color=r,this.roundness=o},this.TumblerClass=function(){function e(e){var t=e.size,i=void 0===t?"16px":t,n=e.color,r=void 0===n?"darkblue":n,s=e.roundness,o=void 0===s?"50%":s;e.borders;this.html='<span ondragstart="return false;" ondrop="return false;" class=\'RangeSlider__tumbler\n                            \'> </span>',this.size=i,this.color=r,this.roundness=o}return e.prototype.tumblerListener=function(e){var i=this;t.onmousemove=function(n){var r=e.target,s=t.querySelector(".RangeSlider"),o=(n.clientX-s.getBoundingClientRect().x)/s.getBoundingClientRect().width*100;r.nextSibling?i.tumblerShifted({startPrc:o}):i.tumblerShifted({endPrc:o})},document.onmouseup=function(e){t.onmousemove=null,document.onmouseup=null}},e}(),this.element,this.orient=n,this.range=s,this.origin=l,this.start=Math.max(h-l,0),this.end=null===a?s:a-l,this.tumbler=new this.TumblerClass({size:m,color:g,roundness:b,borders:y}),this.tumbler.tumblerListener=this.tumbler.tumblerListener.bind(this),this.line=new this.LineClass({height:S,color:R,roundness:w})}return e.prototype.render=function(){var e=this;return t.innerHTML="<div class='RangeSlider RangeSlider_orient_"+this.orient+"'><div class='RangeSlider__line'>"+this.tumbler.html+this.tumbler.html+"</div>  <div class='RangeSlider__meaning'></div> </div></div>",this.element=t.querySelector(".RangeSlider"),this.line.element=this.element.querySelector(".RangeSlider__line"),this.tumbler.elements=this.element.querySelectorAll(".RangeSlider__tumbler"),this.tumbler.elements.forEach((function(t){var i=t;i.style.height=e.tumbler.size,i.style.width=e.tumbler.size,i.style.background=e.tumbler.color,i.style.borderRadius=e.tumbler.roundness,i.style.border=e.tumbler.borders,i.style.transform="translateX(-50%)",i.style.marginTop="calc((-"+e.tumbler.size+" + "+e.line.height+")/2)",i.onmousedown=function(t){e.tumbler.tumblerListener(t)}})),this.line.element.style.height=this.line.height,this.line.element.style.background=this.line.color,this.line.element.style.borderRadius=this.line.roundness,this.viewUpdate(100/this.range*this.start,100/this.range*this.end),this.element},e.prototype.viewUpdate=function(e,t){this.element.querySelector(".RangeSlider__tumbler:first-child").style.left=e+"%",this.element.querySelector(".RangeSlider__tumbler:last-child").style.left=t+"%"},e}();return{Model:new i(e),Presenter:new n,View:new r(e),init:function(){this.View.tumblerShifted=this.Presenter.shiftReac.bind(this.Presenter),this.Presenter.callToModel=this.Model.update.bind(this.Model),this.Model.updated=this.Presenter.updateReact.bind(this.Presenter),this.Presenter.callToView=this.View.viewUpdate.bind(this.View),this.View.render()},getValue:function(){return console.log("Selected range: "+this.Model.value[0]+" â€” "+this.Model.value[1]),this.Model.value},setValue:function(e,t){this.Presenter.shiftReac({startPrc:e/this.Model.range*100,endPrc:t/this.Model.range*100,direct:!0})}}}.call(n,{type:"range",start:20,end:80,step:5});r.init(),r.getValue()},function(e,t,i){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJlbGVtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2xpZGVyIiwib3B0aW9ucyIsInJvb3QiLCJ0aGlzIiwiY2xNb2RlbCIsInR5cGUiLCJyYW5nZSIsInN0YXJ0IiwiZW5kIiwib3JpZ2luIiwic3RlcCIsIl9zdGFydCIsIk1hdGgiLCJtYXgiLCJfZW5kIiwicHJjIiwibWluIiwidXBkYXRlIiwic3RhcnRQcmMiLCJlbmRQcmMiLCJkaXJlY3QiLCJuZXdTdGFydCIsIm5ld0VuZCIsInJvdW5kIiwidXBkYXRlZCIsIkNsUHJlc2VudGVyIiwic2hpZnRSZWFjIiwicGFyYW1zIiwiY2FsbFRvTW9kZWwiLCJ1cGRhdGVSZWFjdCIsImZpckNvb3IiLCJzZWNDb29yIiwiY2FsbFRvVmlldyIsImNsVmlldyIsIm9yaWVudCIsInR1bWJsZXJTaXplIiwidHVtYmxlckNvbG9yIiwidHVtYmxlclJvdW5kbmVzcyIsInR1bWJsZXJCb3JkZXJzIiwibGluZUhlaWdodCIsImxpbmVDb2xvciIsImxpbmVSb3VuZG5lc3MiLCJzZWxlY3RlZEJhY2tHcm91bmQiLCJMaW5lQ2xhc3MiLCJoZWlnaHQiLCJjb2xvciIsInJvdW5kbmVzcyIsIlR1bWJsZXJDbGFzcyIsInNpemUiLCJib3JkZXJzIiwiaHRtbCIsInR1bWJsZXJMaXN0ZW5lciIsImUiLCJvbm1vdXNlbW92ZSIsImV2IiwidHVtYmxlciIsInRhcmdldCIsImxpbmUiLCJiaWFzIiwiY2xpZW50WCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJ3aWR0aCIsIm5leHRTaWJsaW5nIiwidHVtYmxlclNoaWZ0ZWQiLCJvbm1vdXNldXAiLCJlbGVtZW50IiwicmVuZGVyIiwiaW5uZXJIVE1MIiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyUmFkaXVzIiwiYm9yZGVyIiwidHJhbnNmb3JtIiwibWFyZ2luVG9wIiwib25tb3VzZWRvd24iLCJ2aWV3VXBkYXRlIiwiZmlyUG9zIiwic2VjUG9zIiwibGVmdCIsIk1vZGVsIiwiUHJlc2VudGVyIiwiVmlldyIsImluaXQiLCJnZXRWYWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJzZXRWYWx1ZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMs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LEdBQ25CTCxLQUFLa0YsVUFBVTNELFVBQVUsQ0FBQ1IsU0FBVVgsRUFBTUosS0FBS2lGLE1BQU05RSxNQUFRLElBQUthLE9BQVFYLEVBQUlMLEtBQUtpRixNQUFNOUUsTUFBTSxJQUFLYyxRQUFRLE9BUTlGcEQsS0FBSzZCLEVBQU0sQ0FBQ1EsS0FBTSxRQUFRRSxNQUFNLEdBQUlDLElBQU0sR0FBSUUsS0FBTSxJQUU5RVYsRUFBT3VGLE9BRVB2RixFQUFPd0YsWSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIuL1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgeyBGdW5jdGlvbkJhc2UgfSBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCBcIi4vbWFpbi5zY3NzXCJcclxuXHJcbmZ1bmN0aW9uIENyZWF0ZVNsaWRlcihvcHRpb25zOm9iamVjdCl7ICBcclxuICAgIGNvbnN0IHJvb3QgPSB0aGlzIGFzIEhUTUxFbGVtZW50XHJcbiAgICBcclxuICAgIGNvbnN0IGNsTW9kZWwgPSBjbGFzc3tcclxuICAgICAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICAgICAgcHJpdmF0ZSBfc3RhcnQ6IG51bWJlcjtcclxuICAgICAgICBwcml2YXRlIF9lbmQ6IG51bWJlcjtcclxuICAgICAgICByYW5nZTogbnVtYmVyO1xyXG4gICAgICAgIG9yaWdpbjogbnVtYmVyO1xyXG4gICAgICAgIHN0ZXA6bnVtYmVyO1xyXG4gICAgICAgIHZhbHVlOiBBcnJheTxudW1iZXI+O1xyXG4gICAgICAgIHNldCBzdGFydChwcmM6bnVtYmVyKXtcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnQgPSBNYXRoLm1pbih0aGlzLmVuZCwgTWF0aC5tYXgocHJjLCAwKSApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdldCBzdGFydCgpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0IGVuZChwcmM6bnVtYmVyKXtcclxuICAgICAgICAgICAgdGhpcy5fZW5kID0gTWF0aC5tYXgodGhpcy5zdGFydCwgTWF0aC5taW4ocHJjLCB0aGlzLnJhbmdlKSApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdldCBlbmQoKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VuZFxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHVwZGF0ZWQ6IEZ1bmN0aW9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHt0eXBlPSBcInJhbmdlXCIsIHJhbmdlID0gMTAwLCAgc3RhcnQgPSAwLCBlbmQ9bnVsbCwgb3JpZ2luID0gMCwgc3RlcD0xfSl7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IHR5cGVcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnQgPSBNYXRoLm1heChzdGFydCAtIG9yaWdpbiwgMClcclxuICAgICAgICAgICAgdGhpcy5fZW5kID0gKGVuZCA9PT0gbnVsbCA/IHJhbmdlIDogKGVuZC1vcmlnaW4pKVxyXG4gICAgICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2VcclxuICAgICAgICAgICAgdGhpcy5vcmlnaW4gPSBvcmlnaW5cclxuICAgICAgICAgICAgdGhpcy5zdGVwID0gc3RlcFxyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gW3RoaXMuc3RhcnQgKyB0aGlzLm9yaWdpbiwgdGhpcy5lbmQgKyB0aGlzLm9yaWdpbl1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZSh7c3RhcnRQcmM9dGhpcy5zdGFydCwgZW5kUHJjPXRoaXMuZW5kLCBkaXJlY3Q9ZmFsc2V9KTp2b2lke1xyXG4gICAgICAgICAgICBpZihkaXJlY3Qpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW5kID0gMTAwL3RoaXMucmFuZ2UqKGVuZFByYy10aGlzLm9yaWdpbilcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0ID0xMDAvdGhpcy5yYW5nZSooc3RhcnRQcmMtdGhpcy5vcmlnaW4gKVxyXG4gICAgICAgICAgICAgICAgLy9QcmMg0Y8g0L7QsdC+0LfQvdCw0YfQsNGOIFwi0L/RgNC+0YbQtdC90YLRi1wiLCDQvdC+INC90LUg0LIg0YHQu9GD0YfQsNC1INCy0YvRiNC1LiDQotGD0YIg0LDQsdGB0L7Qu9GO0YLQvdGL0LUg0LfQvdCw0YfQtdC90LjRjyDQsdGD0LTRg9GCINC/0L7RgdGC0YPQv9Cw0YLRjCDRh9C10YDQtdC3INC/0YDRj9C80L7QuSDQstCy0L7QtFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3U3RhcnQgPSB0aGlzLnJhbmdlLzEwMCpzdGFydFByY1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0VuZCA9IHRoaXMucmFuZ2UvMTAwKmVuZFByY1xyXG4gICAgICAgICAgICAgICAgaWYoKG5ld0VuZCAtIHRoaXMuZW5kKSA+PSB0aGlzLnN0ZXAqMC43IHx8ICh0aGlzLmVuZCAtIG5ld0VuZCkgPj0gdGhpcy5zdGVwKjAuNyB8fCBuZXdFbmQ9PXRoaXMucmFuZ2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kID0gTWF0aC5yb3VuZChuZXdFbmQvdGhpcy5zdGVwKSp0aGlzLnN0ZXBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKChuZXdTdGFydCAtIHRoaXMuc3RhcnQpID49IHRoaXMuc3RlcCowLjcgfHwgKHRoaXMuc3RhcnQgLSBuZXdTdGFydCkgPj0gdGhpcy5zdGVwKjAuNyB8fCBuZXdTdGFydD09MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydCA9IE1hdGgucm91bmQobmV3U3RhcnQvdGhpcy5zdGVwKSp0aGlzLnN0ZXBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBbdGhpcy5zdGFydCArIHRoaXMub3JpZ2luLCB0aGlzLmVuZCArIHRoaXMub3JpZ2luXVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZWQoMTAwL3RoaXMucmFuZ2UqdGhpcy5zdGFydCwgMTAwL3RoaXMucmFuZ2UqdGhpcy5lbmQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zdCBDbFByZXNlbnRlciA9IGNsYXNze1xyXG4gICAgICAgIGNhbGxUb01vZGVsOiBGdW5jdGlvbjtcclxuICAgICAgICBjYWxsVG9WaWV3OiBGdW5jdGlvbjtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBzaGlmdFJlYWMocGFyYW1zOiBvYmplY3Qpe1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxUb01vZGVsKHBhcmFtcylcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZVJlYWN0KGZpckNvb3I6bnVtYmVyLCBzZWNDb29yOm51bWJlcil7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbFRvVmlldyhmaXJDb29yLCBzZWNDb29yKVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2xWaWV3ID0gY2xhc3N7XHJcbiAgICAgICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgb3JpZ2luOiBudW1iZXI7XHJcbiAgICAgICAgc2l6ZTogbnVtYmVyO1xyXG4gICAgICAgIHJhbmdlOiBudW1iZXI7XHJcbiAgICAgICAgb3JpZW50OiBzdHJpbmc7XHJcbiAgICAgICAgc3RhcnQ6bnVtYmVyO1xyXG4gICAgICAgIGVuZDogbnVtYmVyO1xyXG4gICAgICAgIHR1bWJsZXJTaGlmdGVkOiBGdW5jdGlvbjtcclxuICAgICAgICB0dW1ibGVyOiB7aHRtbDogc3RyaW5nOyBlbGVtZW50czpOb2RlTGlzdE9mPEVsZW1lbnQ+OyAgc2l6ZTogc3RyaW5nOyBjb2xvcjogc3RyaW5nOyByb3VuZG5lc3M6IHN0cmluZzsgYm9yZGVyczogc3RyaW5nOyB0dW1ibGVyTGlzdGVuZXI6IEV2ZW50TGlzdGVuZXJ9O1xyXG4gICAgICAgIGxpbmU6IHtoZWlnaHQ6IHN0cmluZzsgY29sb3I6IHN0cmluZzsgcm91bmRuZXNzOiBzdHJpbmc7IGJvcmRlcnM6IHN0cmluZzsgZWxlbWVudDogSFRNTEVsZW1lbnR9XHJcbiAgICAgICAgc2VsZWN0ZWQgOiB7Y29sb3I6IHN0cmluZzsgaGVpZ2h0OiBzdHJpbmc7fVxyXG5cclxuICAgICAgICBMaW5lQ2xhc3MgPSBjbGFzc3tcclxuICAgICAgICAgICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGhlaWdodDogc3RyaW5nO1xyXG4gICAgICAgICAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgICAgICAgICByb3VuZG5lc3M6IHN0cmluZztcclxuICAgICAgICAgICAgYm9yZGVyczogc3RyaW5nO1xyXG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcih7aGVpZ2h0PSBcIjEycHhcIixjb2xvciA9IFwiYmx1ZVwiLCByb3VuZG5lc3M9XCIxMHB4XCJ9KXtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdW5kbmVzcyA9IHJvdW5kbmVzc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFR1bWJsZXJDbGFzcyA9IGNsYXNze1xyXG4gICAgICAgICAgICBodG1sOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIGVsZW1lbnRzOiBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PlxyXG4gICAgICAgICAgICBzaXplOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIHJvdW5kbmVzczogc3RyaW5nO1xyXG4gICAgICAgICAgICBib3JkZXJzOiBzdHJpbmc7XHJcblxyXG4gICAgICAgICAgICB0dW1ibGVyU2hpZnRlZDpGdW5jdGlvbjsgLy/Qp9GC0L7QsdGLIFRTINC90LUg0LLRi9C00LDQstCw0Lsg0L7RiNC40LHQutGDLiB0dW1ibGVyTGlzdGVuZXIg0L3QsCDRgdCw0LzQvtC8LdGC0L4g0LTQtdC70LUg0LHRg9C00LXRgiDQt9Cw0L/Rg9GB0LrQsNGC0YzRgdGPINCyINC60L7QvdGC0LXRgdGC0LUgVmlldy4g0JjQty3Qt9CwINC00LDQvdC90YvRhS4gXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcih7IHNpemU9XCIxNnB4XCIsIGNvbG9yPVwiZGFya2JsdWVcIiwgcm91bmRuZXNzPVwiNTAlXCIsIGJvcmRlcnMgPSBcIm5vbmVcIn0pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5odG1sID0gYDxzcGFuIG9uZHJhZ3N0YXJ0PVwicmV0dXJuIGZhbHNlO1wiIG9uZHJvcD1cInJldHVybiBmYWxzZTtcIiBjbGFzcz0nUmFuZ2VTbGlkZXJfX3R1bWJsZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc+IDwvc3Bhbj5gXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3VuZG5lc3MgPSByb3VuZG5lc3M7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHR1bWJsZXJMaXN0ZW5lcihlOiBNb3VzZUV2ZW50KTogdm9pZHtcclxuICAgICAgICAgICAgICAgIHJvb3Qub25tb3VzZW1vdmUgPSBldj0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0dW1ibGVyID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsaW5lPSByb290LnF1ZXJ5U2VsZWN0b3IoXCIuUmFuZ2VTbGlkZXJcIilcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYmlhcyA9IChldi5jbGllbnRYIC0gbGluZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54KS9saW5lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICogMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0dW1ibGVyLm5leHRTaWJsaW5nKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50dW1ibGVyU2hpZnRlZCh7c3RhcnRQcmM6IGJpYXN9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlKHRoaXMudHVtYmxlclNoaWZ0ZWQoe2VuZFByYzogYmlhcyB9KSApXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBlPT57XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdC5vbm1vdXNlbW92ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHtvcmllbnQgPSBcImhvcml6b250YWxcIiwgcmFuZ2UgPSAxMDAsIG9yaWdpbiA9IDAsIHN0YXJ0ID0gMCwgZW5kID0gbnVsbCwgdHVtYmxlclNpemU9XCIxNnB4XCIsIHR1bWJsZXJDb2xvcj1cImRhcmtibHVlXCIsIFxyXG4gICAgICAgICAgICAgICAgICAgIHR1bWJsZXJSb3VuZG5lc3M9XCI1MCVcIiwgdHVtYmxlckJvcmRlcnMgPSBcIm5vbmVcIiwgbGluZUhlaWdodD1cIjEycHhcIiwgbGluZUNvbG9yPVwiYmx1ZVwiLCAgbGluZVJvdW5kbmVzcz1cIjEwcHhcIiwgc2VsZWN0ZWRCYWNrR3JvdW5kPVwiYmx1ZVwiLH0pe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50XHJcbiAgICAgICAgICAgIHRoaXMub3JpZW50ID0gb3JpZW50XHJcbiAgICAgICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZVxyXG4gICAgICAgICAgICB0aGlzLm9yaWdpbiA9IG9yaWdpblxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gTWF0aC5tYXgoc3RhcnQgLSBvcmlnaW4sIDApXHJcbiAgICAgICAgICAgIHRoaXMuZW5kID0gKGVuZCA9PT0gbnVsbCA/IHJhbmdlIDogKGVuZC1vcmlnaW4pKVxyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnR1bWJsZXIgPSBuZXcgdGhpcy5UdW1ibGVyQ2xhc3Moe3NpemU6dHVtYmxlclNpemUgLGNvbG9yOnR1bWJsZXJDb2xvcixyb3VuZG5lc3M6dHVtYmxlclJvdW5kbmVzcywgYm9yZGVyczogdHVtYmxlckJvcmRlcnN9KVxyXG4gICAgICAgICAgICB0aGlzLnR1bWJsZXIudHVtYmxlckxpc3RlbmVyID0gdGhpcy50dW1ibGVyLnR1bWJsZXJMaXN0ZW5lci5iaW5kKHRoaXMpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmxpbmUgPSBuZXcgdGhpcy5MaW5lQ2xhc3Moe2hlaWdodDogbGluZUhlaWdodCxjb2xvcjogbGluZUNvbG9yLCByb3VuZG5lc3M6IGxpbmVSb3VuZG5lc3N9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVuZGVyKCk6IEhUTUxFbGVtZW50e1xyXG4gICAgICAgICAgICByb290LmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPSdSYW5nZVNsaWRlciBSYW5nZVNsaWRlcl9vcmllbnRfJHt0aGlzLm9yaWVudH0nPjxkaXYgY2xhc3M9J1JhbmdlU2xpZGVyX19saW5lJz4ke3RoaXMudHVtYmxlci5odG1sfSR7dGhpcy50dW1ibGVyLmh0bWx9PC9kaXY+ICA8ZGl2IGNsYXNzPSdSYW5nZVNsaWRlcl9fbWVhbmluZyc+PC9kaXY+IDwvZGl2PjwvZGl2PmA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSByb290LnF1ZXJ5U2VsZWN0b3IoXCIuUmFuZ2VTbGlkZXJcIilcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMubGluZS5lbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuUmFuZ2VTbGlkZXJfX2xpbmVcIikgYXMgSFRNTEVsZW1lbnRcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMudHVtYmxlci5lbGVtZW50cyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlJhbmdlU2xpZGVyX190dW1ibGVyXCIpIFxyXG5cclxuICAgICAgICAgICAgdGhpcy50dW1ibGVyLmVsZW1lbnRzLmZvckVhY2goZWw9PnsgXHJcbiAgICAgICAgICAgICAgICBsZXQgZWxlbSA9IChlbCBhcyBIVE1MRWxlbWVudClcclxuICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUuaGVpZ2h0ID0gdGhpcy50dW1ibGVyLnNpemUgXHJcbiAgICAgICAgICAgICAgICBlbGVtLnN0eWxlLndpZHRoID0gdGhpcy50dW1ibGVyLnNpemUgXHJcbiAgICAgICAgICAgICAgICBlbGVtLnN0eWxlLmJhY2tncm91bmQgPSB0aGlzLnR1bWJsZXIuY29sb3JcclxuICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUuYm9yZGVyUmFkaXVzID0gdGhpcy50dW1ibGVyLnJvdW5kbmVzc1xyXG4gICAgICAgICAgICAgICAgZWxlbS5zdHlsZS4gYm9yZGVyID0gdGhpcy50dW1ibGVyLmJvcmRlcnNcclxuICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKC01MCUpXCJcclxuICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUubWFyZ2luVG9wID0gIGBjYWxjKCgtJHt0aGlzLnR1bWJsZXIuc2l6ZX0gKyAke3RoaXMubGluZS5oZWlnaHR9KS8yKWBcclxuICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgZWxlbS5vbm1vdXNlZG93biA9IGU9Pnt0aGlzLnR1bWJsZXIudHVtYmxlckxpc3RlbmVyKGUpfVxyXG4gICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgIHRoaXMubGluZS5lbGVtZW50LnN0eWxlLmhlaWdodCA9IHRoaXMubGluZS5oZWlnaHRcclxuICAgICAgICAgICAgdGhpcy5saW5lLmVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9IHRoaXMubGluZS5jb2xvclxyXG4gICAgICAgICAgICB0aGlzLmxpbmUuZWxlbWVudC5zdHlsZS5ib3JkZXJSYWRpdXMgPSB0aGlzLmxpbmUucm91bmRuZXNzXHJcblxyXG4gICAgICAgICAgICB0aGlzLnZpZXdVcGRhdGUoMTAwL3RoaXMucmFuZ2UgKiB0aGlzLnN0YXJ0LCAxMDAvdGhpcy5yYW5nZSAqIHRoaXMuZW5kKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZpZXdVcGRhdGUoZmlyUG9zOm51bWJlciwgc2VjUG9zOm51bWJlcil7IFxyXG4gICAgICAgICAgICAodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuUmFuZ2VTbGlkZXJfX3R1bWJsZXI6Zmlyc3QtY2hpbGRcIikgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmxlZnQgPSBmaXJQb3MgKyBcIiVcIjtcclxuICAgICAgICAgICAgKHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLlJhbmdlU2xpZGVyX190dW1ibGVyOmxhc3QtY2hpbGRcIikgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmxlZnQgPSBzZWNQb3MgICsgXCIlXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbnN0IFJhbmdlU2xpZGVyID0geyBcclxuXHJcbiAgICAgICAgTW9kZWw6IG5ldyBjbE1vZGVsKG9wdGlvbnMpLFxyXG4gICAgICAgIFByZXNlbnRlcjogbmV3IENsUHJlc2VudGVyKCksXHJcbiAgICAgICAgVmlldzogbmV3IGNsVmlldyhvcHRpb25zKSxcclxuXHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuVmlldy50dW1ibGVyU2hpZnRlZCA9IHRoaXMuUHJlc2VudGVyLnNoaWZ0UmVhYy5iaW5kKHRoaXMuUHJlc2VudGVyKVxyXG4gICAgICAgICAgICB0aGlzLlByZXNlbnRlci5jYWxsVG9Nb2RlbCA9IHRoaXMuTW9kZWwudXBkYXRlLmJpbmQodGhpcy5Nb2RlbClcclxuICAgICAgICAgICAgdGhpcy5Nb2RlbC51cGRhdGVkID0gdGhpcy5QcmVzZW50ZXIudXBkYXRlUmVhY3QuYmluZCh0aGlzLlByZXNlbnRlcilcclxuICAgICAgICAgICAgdGhpcy5QcmVzZW50ZXIuY2FsbFRvVmlldyA9IHRoaXMuVmlldy52aWV3VXBkYXRlLmJpbmQodGhpcy5WaWV3KVxyXG5cclxuICAgICAgICAgICAgdGhpcy5WaWV3LnJlbmRlcigpICBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldFZhbHVlKCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTZWxlY3RlZCByYW5nZTogJHt0aGlzLk1vZGVsLnZhbHVlWzBdfSDigJQgJHt0aGlzLk1vZGVsLnZhbHVlWzFdfWApXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLk1vZGVsLnZhbHVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXRWYWx1ZShzdGFydDpudW1iZXIsIGVuZDpudW1iZXIpe1xyXG4gICAgICAgICAgICB0aGlzLlByZXNlbnRlci5zaGlmdFJlYWMoe3N0YXJ0UHJjOiBzdGFydC90aGlzLk1vZGVsLnJhbmdlICogMTAwLCBlbmRQcmM6IGVuZC90aGlzLk1vZGVsLnJhbmdlKjEwMCwgZGlyZWN0OiB0cnVlfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSxcclxuICAgIH1cclxuICAgIHJldHVybiBSYW5nZVNsaWRlclxyXG4gICAgXHJcbn1cclxubGV0IGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndyYXBwZXI+ZGl2XCIpXHJcbmxldCBzbGlkZXIgPSBDcmVhdGVTbGlkZXIuY2FsbChlbGVtLCB7dHlwZTogXCJyYW5nZVwiLHN0YXJ0OjIwLCBlbmQgOiA4MCwgc3RlcDogNX0gKVxyXG5cclxuc2xpZGVyLmluaXQoKVxyXG5cclxuc2xpZGVyLmdldFZhbHVlKClcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==