!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);i(1);function n(t){var e,i=this,n=function(){function t(t){var e=t.type,i=void 0===e?"range":e,n=t.origin,s=void 0===n?0:n,r=t.range,o=void 0===r?100:r,l=t.start,a=void 0===l?0:l,h=t.end,c=void 0===h?null:h,d=t.step,u=void 0===d?1:d,p=t.list,g=void 0===p?[]:p;this.type=i,this.range=o,this.origin=s,this.step=u,g[0]&&(this.range=g.length-1,this.origin=0,this.step=1),this._start=Math.max(Math.min(a-s,this.range-this.step),0),this._end=null===c?o:Math.min(o,Math.max(this.start+1,c-s)),this.value=[this.start+this.origin,this.end+this.origin]}return Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(t){"range"==this.type?this._start=Math.min(this.end-this.step,Math.max(t,0)):this._start=Math.min(this.end,Math.max(t,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._end},set:function(t){"range"==this.type?this._end=Math.max(this.start+this.step,Math.min(t,this.range)):this._end=Math.max(this.start,Math.min(t,this.range))},enumerable:!1,configurable:!0}),t.prototype.update=function(t){if("direct"==t.method)"point"==this.type?t.startPos<this.origin?this._end=0:t.startPos>this.range+this.origin?this._end=this.range:this._end=t.startPos-this.origin:(t.startPos<this.origin&&(this._start=0),t.startPos>=this.range+this.origin&&(this._start=this.range-this.step),t.startPos>=t.endPos&&(this._start=t.endPos-this.origin-this.step),t.endPos>=this.range+this.origin&&(this._end=this.range),t.endPos<=this.origin&&(this._end=0+this.step),t.endPos<=t.startPos&&(this._end=t.startPos+this.step));else if("tepping"==t.method)t.startPos&&(this.start+=t.startPos*this.step),t.endPos&&(this.end+=t.endPos*this.step);else if("scaleClick"==t.method)"point"==this.type||Math.abs(t.startPos-this.end)<=Math.abs(t.startPos-this.start)?this.end=t.startPos:this.start=t.startPos;else{var e=this.range/100*t.startPos,i=this.range/100*t.endPos;(i-this.end>=.7*this.step||this.end-i>=.7*this.step||i==this.range)&&(this.end=Math.round(i/this.step)*this.step),(e-this.start>=.7*this.step||this.start-e>=.7*this.step||0==e)&&(this.start=Math.round(e/this.step)*this.step)}"range"==this.type?this.value=[this.start+this.origin,this.end+this.origin]:(this.start=0,this.value=[this.end+this.origin]),this.updated(100/this.range*this.start,100/this.range*this.end)},t}(),s=function(){function t(t){}return t.prototype.shiftReac=function(t){this.callToModel(t)},t.prototype.updateReact=function(t,e){this.callToView(t,e)},t}(),r=((e=function(){function t(t){var e=t.orient,i=void 0===e?"horizontal":e,n=t.type,s=void 0===n?"range":n,o=t.origin,l=void 0===o?0:o,a=t.range,h=void 0===a?100:a,c=t.scale,d=void 0===c||c,u=t.cloud,p=void 0===u?"click":u,g=t.scaleInterval,f=void 0===g?10:g,m=t.list,v=void 0===m?[]:m;this.element,this.orient=i,this.scaleDisplay=d,this.tumbler=new r.TumblerClass({orient:i,type:s,cloud:p}),this.line=new r.LineClass({orient:i}),this.selected=new r.SelectedClass({orient:i}),this.scale=new r.scaleClass({list:v,orient:i,origin:l,range:h,interval:f})}return t.prototype.render=function(){i.innerHTML="<div class='RangeSlider RangeSlider_for_"+this.orient+"'><div class='RangeSlider__line RangeSlider__line_for_"+this.orient+"'> "+this.selected.html+this.tumbler.html+this.tumbler.html+"</div> "+this.scale.html+" </div></div>",this.line.render(),this.scale.render(this.tumblerShifted),this.scaleDisplay||(this.scale.element.style.display="none"),this.tumbler.render(this.tumblerShifted),this.selected.render(),this.element=i.querySelector(".RangeSlider")},t.prototype.viewUpdate=function(t,e){var i=(this.scale.range/100*t+this.scale.origin).toFixed(),n=(this.scale.range/100*e+this.scale.origin).toFixed();this.scale.list[0]&&(i=this.scale.list[+i],n=this.scale.list[+n]),this.tumbler.update(t,e,i,n),this.selected.update(t,e),this.scale.update(t,e)},t}()).scaleClass=function(){function t(t){this.orient=t.orient,this.origin=t.origin,this.range=t.range,this.interval=t.interval,this.list=t.list,this.list[0]&&(this.origin=0,this.range=this.list.length-1,this.interval=1),this.html="<div class='RangeSlider__scale RangeSlider__scale_for_"+this.orient+"'></div>"}return t.prototype.render=function(t){var e=this,n=Boolean(this.list[0]),s=this.element=i.querySelector(".RangeSlider__scale"),r=Math.ceil(this.range/this.interval),o=document.createElement("div");o.classList.add("Scale__mainline"),o.classList.add("Scale__mainline_for_"+this.orient),s.append(o);var l=document.createElement("span");l.classList.add("Scale__cell"),l.classList.add("Scale__cell_for_"+this.orient),"vertical"==this.orient?l.style.height=this.interval/this.range*100+"%":l.style.width=this.interval/this.range*100+"%";var a=function(t){var i=l.cloneNode(!0);i.classList.add("Scale__cell_meaning_"+t),i.setAttribute("value",""+t);var s=document.createElement("span");return s.innerHTML=n?e.list[t]:t.toString(),i.append(s),o.append(i),i};a(this.origin);for(var h=1;h<r;h++)h!==r-1?a(h*this.interval+this.origin):a(h*this.interval+this.origin).style.flexShrink="1";"vertical"==this.orient?a(this.range+this.origin).style.height="0px":a(this.range+this.origin).style.width="0px",this.element.onclick=function(i){if(i.target.closest(".Scale__cell>span")){var n=+i.target.closest(".Scale__cell").getAttribute("value")-e.origin;t({startPos:n,method:"scaleClick"})}}},t.prototype.update=function(t,e){var i=this;this.element.querySelectorAll(".Scale__cell").forEach((function(n){var s=n,r=+n.getAttribute("value");r>=i.range/100*t+i.origin&&r<=i.range/100*e+i.origin?s.classList.add("Scale__cell_status_active"):s.classList.remove("Scale__cell_status_active")}))},t}(),e.LineClass=function(){function t(t){this.orient=t.orient}return t.prototype.render=function(){this.element=i.querySelector(".RangeSlider__line")},t}(),e.TumblerClass=function(){function t(t){this.orient=t.orient,this.type=t.type,this.cloud=t.cloud,this.html='<span tabindex= "1"; class=\'RangeSlider__tumbler RangeSlider__tumbler_for_'+this.orient+"'> </span>"}return t.prototype.render=function(t){var e=this;this.elements=i.querySelectorAll(".RangeSlider__tumbler"),this.elements.forEach((function(n,s){var r,o=n;"point"===e.type&&0===s&&(o.style.display="none"),(r=document.createElement("div")).classList.add("RangeSlider__cloud"),r.classList.add("RangeSlider__cloud_for_"+e.orient),r.append(document.createElement("b")),r.append(document.createElement("div")),n.append(r),"always"!==e.cloud&&(r.style.display="none"),o.onmousedown=function(n){n.preventDefault(),"click"==e.cloud&&(r.style.display="block"),i.onmousemove=function(s){var r=n.target,o=i.querySelector(".RangeSlider"),l="vertical"===e.orient?-(s.clientY-o.getBoundingClientRect().bottom)/o.getBoundingClientRect().height*100:(s.clientX-o.getBoundingClientRect().x)/o.getBoundingClientRect().width*100;r.nextSibling?t({startPos:l}):t({endPos:l})},document.onmouseup=function(t){"click"==e.cloud&&(r.style.display="none"),i.onmousemove=null,document.onmouseup=null}},o.onfocus=function(i){"click"==e.cloud&&(r.style.display="block");var n=i.target;document.onkeydown=function(i){"ArrowDown"===i.key&&"vertical"===e.orient||"ArrowLeft"===i.key&&"vertical"!==e.orient?n.nextSibling?t({startPos:-1,method:"tepping"}):t({endPos:-1,method:"tepping"}):("ArrowUp"===i.key&&"vertical"===e.orient||"ArrowRight"===i.key&&"vertical"!==e.orient)&&(n.nextSibling?t({startPos:1,method:"tepping"}):t({endPos:1,method:"tepping"}))},i.target.onblur=function(t){"click"==e.cloud&&(r.style.display="none"),document.onkeydown=null,t.target.onblur=null}}}))},t.prototype.update=function(t,e,i,n){var s=this.elements[0],r=this.elements[1];"vertical"==this.orient?(s.style.bottom=t+"%",r.style.bottom=e+"%"):(s.style.left=t+"%",r.style.left=e+"%"),s.querySelector("b").innerText=i,r.querySelector("b").innerText=n},t}(),e.SelectedClass=function(){function t(t){this.orient=t.orient,this.html="<div class='RangeSlider__selected RangeSlider__selected_for_"+this.orient+"'></div>"}return t.prototype.render=function(){this.element=i.querySelector(".RangeSlider__selected")},t.prototype.update=function(t,e){"vertical"==this.orient?(this.element.style.bottom=t+"%",this.element.style.top=100-e+"%"):(this.element.style.left=t+"%",this.element.style.right=100-e+"%")},t}(),e);return{Model:new n(t),Presenter:new s(t),View:new r(t),init:function(){this.View.tumblerShifted=this.Presenter.shiftReac.bind(this.Presenter),this.Presenter.callToModel=this.Model.update.bind(this.Model),this.Model.updated=this.Presenter.updateReact.bind(this.Presenter),this.Presenter.callToView=this.View.viewUpdate.bind(this.View),this.View.render(),this.Presenter.shiftReac({})},getValue:function(){return console.log("Selected range: "+this.Model.value[0]+" — "+this.Model.value[1]),this.Model.value},setValue:function(t,e){this.Presenter.shiftReac({startPos:t,endPos:e,method:"direct"})}}}e.default=n;var s=document.querySelector(".wrapper>div"),r=document.querySelector(".wrapper-two>div"),o=document.querySelector(".wrapper-three>div"),l=document.querySelector(".wrapper-list>div"),a=n.call(s,{type:"range",start:20,end:80,step:1,scale:!1,cloud:"always"}),h=n.call(r,{type:"point",origin:10,range:90,end:10,step:5,scaleInterval:20}),c=n.call(o,{type:"point",orient:"vertical",origin:0,scaleInterval:5,range:10,end:5}),d=n.call(l,{type:"range",list:["ἄ","β","γ","λ","Ξ","ζ","π","θ","ψ"],end:2,cloud:"none"});a.init(),h.init(),c.init(),d.init()},function(t,e,i){}]);