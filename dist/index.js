!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="./",s(s.s=2)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLICK=e.ALWAYS=e.NONE=e.HORIZONTAL=e.VERTICAL=e.RANGE=e.POINT=e.TEPPEING=e.SCALE_CLICK=e.DRAG=e.DIRECT=void 0,e.DIRECT="direct",e.DRAG="drag",e.SCALE_CLICK="scaleClick",e.TEPPEING="tepping",e.POINT="point",e.RANGE="range",e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.NONE="none",e.ALWAYS="always",e.CLICK="click"},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.subscribe=t=>{this.observers.push(t)},this.unsubscribe=t=>{this.observers=this.observers.filter(e=>e!==t)},this.broadcast=(...t)=>{this.observers.forEach(e=>e(...t))},this.observers=[]}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),n=s(3),r=s(9),a=s(10),l=s(11),o=void(jQuery.fn.rangeSlider=function(t){const e=[];return this.each((s,i)=>{e.push(new c(i,t))}),1===e.length?e[0]:e});class c{constructor(t,e){this.config=new l.default(e),this.view=new n.default(t,this.config),this.model=new r.default(this.config),this.presenter=new a.default(this.view,this.model)}init(t,e){this.view.render(),this.setValue(t,e)}adaptValues(){this.model.adaptValues()}getValue(){return this.config.value}setValue(t,e){this.config.type===i.POINT?this.model.updateDirectively({startPosition:this.config.origin,endPosition:t}):this.model.updateDirectively({startPosition:t,endPosition:e})}}e.default=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s(4);const i=s(1),n=s(5),r=s(6),a=s(7),l=s(8);e.default=class{constructor(t,e){this.observer=new i.default,this.root=t,this.config=e,this.tumblers=new n.default(e,this.observer.broadcast),this.scale=new a.default(e,this.observer.broadcast),this.line=new l.default(e),this.selected=new r.default(e)}render(){const{root:t,config:e}=this,s=document.createElement("div");s.className="range-slider  js-range-slider  range-slider_for_"+e.orient,s.append(this.line.render()),s.append(this.scale.render()),this.tumblers.render().forEach(t=>{this.line.element.append(t)}),this.line.element.append(this.selected.render()),this.element=s,t.innerHTML="",t.append(this.element)}updateView(t){const{firstCoordinate:e,secondCoordinate:s}=t;this.tumblers.update(e,s),this.selected.update(e,s),this.scale.update(e,s)}}},function(t,e,s){},function(t,e,s){"use strict";var i,n,r,a,l,o,c=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};Object.defineProperty(e,"__esModule",{value:!0});const h=s(0);i=new WeakMap,n=new WeakMap,r=new WeakMap,a=new WeakMap,l=new WeakMap,o=new WeakMap,e.default=class{constructor(t,e){this.render=()=>{const{config:t}=this,e=[];for(let s=0;s<2;s+=1){const a=document.createElement("div");a.className="js-range-slider__tumbler range-slider__tumbler  range-slider__tumbler_for_"+t.orient,a.tabIndex=0;const o=c(this,l).call(this);a.append(o),a.addEventListener("mousedown",c(this,i)),a.addEventListener("keydown",c(this,r)),a.addEventListener("focus",c(this,n)),t.type===h.POINT&&0===s&&(a.style.display="none"),e.push(a)}return this.elements=e,this.elements},i.set(this,t=>{t.preventDefault();const{config:e}=this,s=t.target.closest(".js-range-slider__tumbler"),i=s.querySelector(".js-range-slider__cloud "),n=s===this.elements[0];e.cloud===h.CLICK&&(i.style.display="block"),document.body.style.cursor="pointer";const r=t=>{c(this,a).call(this,t,n)};document.addEventListener("mousemove",r),document.onmouseup=()=>{document.removeEventListener("mousemove",r),e.cloud===h.CLICK&&(i.style.display="none"),document.body.style.cursor="auto",document.onmouseup=null}}),n.set(this,t=>{const{config:e}=this,s=t.target,i=s.querySelector(".js-range-slider__cloud ");e.cloud===h.CLICK&&(i.style.display="block"),s.onblur=t=>{e.cloud===h.CLICK&&(i.style.display="none"),t.target.onblur=null}}),r.set(this,t=>{const{config:e,callback:s}=this,i=t.target===this.elements[0];if("ArrowDown"===t.key&&e.orient===h.VERTICAL||"ArrowLeft"===t.key&&e.orient!==h.VERTICAL){const e={endPosition:-1};s(h.TEPPEING,i?{startPosition:-1}:e),t.preventDefault()}else("ArrowUp"===t.key&&e.orient===h.VERTICAL||"ArrowRight"===t.key&&e.orient!==h.VERTICAL)&&(s(h.TEPPEING,i?{startPosition:1}:{endPosition:1}),t.preventDefault())}),a.set(this,(t,e)=>{const s=this.elements[0].closest(".js-range-slider"),i=this.config.orient===h.VERTICAL?-(t.clientY-s.getBoundingClientRect().bottom)/s.getBoundingClientRect().height*100:(t.clientX-s.getBoundingClientRect().x)/s.getBoundingClientRect().width*100;e?this.callback(h.DRAG,{startPosition:i}):this.callback(h.DRAG,{endPosition:i})}),l.set(this,()=>{const t=document.createElement("div");t.className="js-range-slider__cloud range-slider__cloud  range-slider__cloud_for_"+this.config.orient;const e=document.createElement("b");return e.className="js-range-slider__cloud-value range-slider__cloud-value",t.append(e),this.config.cloud!==h.ALWAYS&&(t.style.display="none"),t}),o.set(this,(t,e)=>{const{config:s,elements:i}=this;let n,r;n=(s.range/100*t+s.origin).toLocaleString(),r=(s.range/100*e+s.origin).toLocaleString(),s.list.length&&(n=s.list[+n].toString(),r=s.list[+r].toString()),i[0].querySelector("b").innerText=n,i[1].querySelector("b").innerText=r}),this.config=t,this.callback=e}update(t,e){const{config:s}=this,i=this.elements[0],n=this.elements[1];s.orient===h.VERTICAL?(i.style.bottom=t+"%",n.style.bottom=e+"%"):(i.style.left=t+"%",n.style.left=e+"%"),100===t?(i.style.zIndex="11",n.style.zIndex="12"):100===e?(i.style.zIndex="12",n.style.zIndex="11"):(i.style.zIndex="11",n.style.zIndex="11"),c(this,o).call(this,t,e)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.default=class{constructor(t){this.config=t}render(){const{config:t}=this,e=document.createElement("div");return e.className="range-slider__selected  range-slider__selected_for_"+t.orient,this.element=e,this.element}update(t,e){const{config:s}=this,n=this.element;s.orient===i.VERTICAL?(n.style.bottom=t+"%",n.style.top=100-e+"%"):(n.style.left=t+"%",n.style.right=100-e+"%")}}},function(t,e,s){"use strict";var i,n,r,a=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};Object.defineProperty(e,"__esModule",{value:!0});const l=s(0);i=new WeakMap,n=new WeakMap,r=new WeakMap,e.default=class{constructor(t,e){this.render=()=>{const{config:t}=this,e=Math.ceil(t.range/t.scaleInterval),s=document.createElement("div");s.className="range-slider__scale  range-slider__scale_for_"+t.orient,s.append(a(this,r).call(this,t.origin));for(let i=1;i<e;i+=1)if(i!==e-1&&1!==e)s.append(a(this,r).call(this,i*t.scaleInterval+t.origin));else{const e=a(this,r).call(this,i*t.scaleInterval+t.origin);e.style.flexShrink="1",s.append(e)}const i=a(this,r).call(this,t.range+t.origin);return t.orient===l.VERTICAL?i.style.height="0px":i.style.width="0px",s.append(i),t.scale||(s.style.display="none"),this.element=s,this.element},i.set(this,t=>{const{orient:e}=this.config,s=t.target.closest(".js-range-slider__scale-cell"),i="horizontal"===e?s.offsetLeft:s.offsetTop,n="horizontal"===e?[...s.closest(".js-range-slider").querySelectorAll(".js-range-slider__tumbler")].map(t=>t.offsetLeft):[...s.closest(".js-range-slider").querySelectorAll(".js-range-slider__tumbler")].map(t=>t.offsetTop),r=Math.abs(i-n[0]),a=Math.abs(i-n[1]),o=+t.target.closest(".js-range-slider__scale-cell").getAttribute("value");this.config.type===l.POINT?this.callback(l.SCALE_CLICK,{endPosition:o}):r<=a?this.callback(l.SCALE_CLICK,{startPosition:o}):this.callback(l.SCALE_CLICK,{endPosition:o})}),n.set(this,t=>{if("Enter"!==t.code)return;const{orient:e}=this.config,s=+t.target.closest(".js-range-slider__scale-cell").getAttribute("value");if(this.config.type===l.POINT)this.callback(l.DRAG,{endPosition:s});else{const i=t.target.closest(".js-range-slider__scale-cell"),n="horizontal"===e?i.offsetLeft:i.offsetTop,r="horizontal"===e?[...i.closest(".js-range-slider").querySelectorAll(".js-range-slider__tumbler")].map(t=>t.offsetLeft):[...i.closest(".js-range-slider").querySelectorAll(".js-range-slider__tumbler")].map(t=>t.offsetTop);Math.abs(n-r[0])<=Math.abs(n-r[1])?this.callback(l.DRAG,{startPosition:s}):this.callback(l.DRAG,{endPosition:s})}}),r.set(this,t=>{const{config:e}=this,s=Boolean(e.list.length),r=document.createElement("span");if(r.className="js-range-slider__scale-cell range-slider__scale-cell  range-slider__scale-cell_for_"+e.orient,e.orient===l.VERTICAL){const t=Math.min(e.scaleInterval/e.range*100,100);r.style.height=t+"%"}else{const t=Math.min(e.scaleInterval/e.range*100,100);r.style.width=t+"%"}r.setAttribute("value",""+t.toLocaleString());const o=document.createElement("span");return o.className="range-slider__scale-value js-range-slider__scale-value",o.innerHTML=s?e.list[t].toString():t.toLocaleString(),o.tabIndex=0,o.addEventListener("click",a(this,i)),o.addEventListener("keydown",a(this,n)),r.append(o),this.cells.push(r),r}),this.config=t,this.callback=e,this.cells=[]}update(t,e){const{config:s}=this,i=this.element,n=s.range/100*t+s.origin,r=s.range/100*e+s.origin;i.querySelectorAll(".js-range-slider__scale-cell").forEach(t=>{const e=t,s=+t.getAttribute("value");s>=n&&s<=r?e.classList.add("range-slider__scale-cell_status_active"):e.classList.remove("range-slider__scale-cell_status_active")})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.config=t}render(){const{config:t}=this,e=document.createElement("div");return e.className="range-slider__line  range-slider__line_for_"+t.orient,this.element=e,this.element}}},function(t,e,s){"use strict";var i,n,r,a,l,o,c,h,d,u=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};Object.defineProperty(e,"__esModule",{value:!0});const g=s(0),f=s(1);i=new WeakMap,n=new WeakMap,r=new WeakMap,a=new WeakMap,l=new WeakMap,o=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakMap,e.default=class{constructor(t){this.updateDirectively=t=>{u(this,i).call(this,u(this,n),t),u(this,d).call(this)},this.updateFromPercent=t=>{u(this,i).call(this,u(this,r),t)},this.updateFromStep=t=>{u(this,i).call(this,u(this,a),t)},this.adaptValues=()=>{this.adaptStart(),this.adaptEnd()},this.adaptStart=()=>{const{step:t}=this.config;let e=Math.round(this.start/t)*t;e=Math.max(0,Math.min(e,Math.ceil(this.end/t)*t-t)),u(this,h).call(this,{start:e,end:this.end}),u(this,d).call(this)},this.adaptEnd=()=>{const{step:t,range:e}=this.config;let s=Math.round(this.end/t)*t;s=Math.min(e,Math.max(s,Math.floor(this.start/t)*t+t)),u(this,h).call(this,{start:this.start,end:s}),u(this,d).call(this)},i.set(this,(t,e)=>{const s=this.start,i=this.end,{newStart:r,newEnd:a}=t(e);r===s&&a===i||(u(this,h).call(this,{start:r,end:a}),t!==u(this,n)&&u(this,d).call(this))}),n.set(this,t=>{const{origin:e,type:s,range:i}=this.config,{startPosition:n,endPosition:r}=t,a=this.start,l=this.end;let o=window.isNaN(n)?a:n-e,c=window.isNaN(r)?l:r-e;return c=s===g.POINT?Math.max(0,Math.min(c,i)):Math.max(1,Math.min(c,i)),o=s===g.POINT?0:Math.min(c-1,Math.max(0,o)),{newStart:o,newEnd:c}}),r.set(this,t=>{const{range:e,step:s}=this.config,i=this.start,n=this.end,{startPosition:r,endPosition:a}=t;let o,h;if(r||0===r){const t=u(this,c).call(this,r),e=t%s>.7*s||t%s<.3*s;(t-i>=.8*s||i-t>=.8*s||e)&&(o=Math.round(t/s)*s)}if(a||0===a){const t=u(this,c).call(this,a),i=t%s>.7*s||t%s<.3*s,r=t>=e-e%s*.5;(t-n>=.8*s||n-t>=.8*s||i||r)&&(h=r?e:Math.round(t/s)*s)}return u(this,l).call(this,[o,h])}),a.set(this,t=>{const{step:e}=this.config,s=this.start,i=this.end,{startPosition:n,endPosition:r}=t;let a,o;return n&&(n<0?a=Math.ceil(s/e)*e+e*n:n>0&&(a=Math.floor(s/e)*e+e*n)),r&&(r<0&&(o=Math.ceil(i/e)*e+e*r),r>0&&(o=Math.floor(i/e)*e+e*r)),u(this,l).call(this,[a,o])}),l.set(this,t=>{const{type:e,range:s,step:i}=this.config,[n,r]=t,a=this.start,l=this.end;let o=isNaN(n)?a:Math.max(n,0),c=isNaN(r)?l:Math.min(r,s);const h=e===g.POINT?0:Math.max(Math.ceil(c/i)*i-i,a),d=e===g.POINT?0:Math.min(Math.floor(o/i)*i+i,l);return o=Math.min(o,h),c=Math.max(c,d),{newStart:o,newEnd:c}}),o.set(this,t=>t/(this.config.range/100)),c.set(this,t=>t/(100/this.config.range)),h.set(this,t=>{this.start=t.start,this.end=t.end,this.config.value=[(t.start+this.config.origin).toLocaleString(),t.end+this.config.origin.toLocaleString()]}),d.set(this,()=>{this.observer.broadcast({firstCoordinate:u(this,o).call(this,this.start),secondCoordinate:u(this,o).call(this,this.end)})}),this.config=t,this.observer=new f.default,this.start=0,this.end=this.config.range}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.default=class{constructor(t,e){this.view=t,this.model=e,this.connectLayers()}reactToInteraction(t,e){switch(t){case i.DRAG:this.model.updateFromPercent(e);break;case i.SCALE_CLICK:this.model.updateDirectively(e),void 0!==e.startPosition?this.model.adaptStart():void 0!==e.endPosition&&this.model.adaptEnd();break;case i.TEPPEING:this.model.updateFromStep(e)}}reactToUpdate(t){this.view.updateView(t)}connectLayers(){this.model.observer.subscribe(this.reactToUpdate.bind(this)),this.view.observer.subscribe(this.reactToInteraction.bind(this))}}},function(t,e,s){"use strict";var i,n,r,a,l,o,c,h,d,u,g=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},f=this&&this.__classPrivateFieldSet||function(t,e,s){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,s),s};Object.defineProperty(e,"__esModule",{value:!0});const p=s(0),m=s(12);i=new WeakMap,n=new WeakMap,r=new WeakMap,a=new WeakMap,l=new WeakMap,o=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakMap,u=new WeakMap,e.default=class{constructor(t){i.set(this,void 0),n.set(this,void 0),r.set(this,void 0),a.set(this,void 0),l.set(this,void 0),o.set(this,void 0),c.set(this,void 0),h.set(this,void 0),d.set(this,void 0),u.set(this,void 0),this.list=t.list,this.range=t.range,this.step=t.step,this.origin=t.origin,this.scaleInterval=t.scaleInterval,this.type=t.type,this.orient=t.orient,this.cloud=t.cloud,this.scale=t.scale,this.value=m.default.value}get type(){return g(this,i)}set type(t){f(this,i,t===p.RANGE||t===p.POINT?t:g(this,i)||m.default.type)}get orient(){return g(this,n)}set orient(t){f(this,n,t===p.VERTICAL||t===p.HORIZONTAL?t:g(this,n)||m.default.orient)}get cloud(){return g(this,d)}set cloud(t){f(this,d,t===p.NONE||t===p.ALWAYS||t===p.CLICK?t:g(this,d)||m.default.cloud)}get list(){return g(this,r)}set list(t){t&&t.length?(f(this,r,t),this.range=t.length,this.origin=0,this.step=1,this.scaleInterval=1):f(this,r,g(this,r)&&g(this,r).length?g(this,r):m.default.list)}get scale(){return g(this,c)}set scale(t){f(this,c,Boolean(t))}get origin(){return g(this,l)}set origin(t){this.list.length?f(this,l,0):f(this,l,isNaN(t)?g(this,l)||m.default.origin:Number(t))}get scaleInterval(){return g(this,h)}set scaleInterval(t){this.list.length?f(this,h,1):f(this,h,isNaN(t)?g(this,h)||m.default.scaleInterval:Math.min(g(this,a),Math.max(1,Number(t))))}get range(){return g(this,a)}set range(t){this.list.length?f(this,a,this.list.length-1):f(this,a,isNaN(t)?g(this,a)||m.default.range:Math.max(1,Number(t)))}get step(){return g(this,o)}set step(t){this.list.length?f(this,o,1):f(this,o,isNaN(t)?g(this,o)||m.default.step:Math.min(g(this,a),Math.max(1,Number(t))))}get value(){return g(this,u)}set value(t){f(this,u,t)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),n={type:i.RANGE,orient:i.HORIZONTAL,cloud:i.CLICK,range:100,origin:0,scaleInterval:10,step:1,scale:!1,list:[],value:[]};e.default=n}]);