!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="./",s(s.s=2)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLICK=e.ALWAYS=e.NONE=e.HORIZONTAL=e.VERTICAL=e.RANGE=e.POINT=e.TEPPEING=e.SCALE_CLICK=e.DRAG=e.DIRECT=void 0,e.DIRECT="direct",e.DRAG="drag",e.SCALE_CLICK="scaleClick",e.TEPPEING="tepping",e.POINT="point",e.RANGE="range",e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.NONE="none",e.ALWAYS="always",e.CLICK="click"},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.subscribe=t=>{this.observers.push(t)},this.unsubscribe=t=>{this.observers=this.observers.filter(e=>e!==t)},this.broadcast=(...t)=>{this.observers.forEach(e=>e(...t))},this.observers=[]}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),n=s(3),r=s(9),a=s(10),o=s(11),l=void(jQuery.fn.rangeSlider=function(t){const e=[];return this.each((s,i)=>{e.push(new c(i,t))}),1===e.length?e[0]:e});class c{constructor(t,e){this.config=new o.default(e),this.model=new r.default(this.config),this.view=new n.default(t,this.config),this.presenter=new a.default(this.view,this.model),this.render()}render(){this.view.render(),this.model.updateDirectly({})}adaptValues(){this.model.adaptValues()}getValue(){return this.config.value}setValue(t,e){this.config.type===i.POINT?this.model.updateDirectly({startPosition:this.config.origin,endPosition:t}):this.model.updateDirectly({startPosition:t,endPosition:e})}}e.default=l},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s(4);const i=s(1),n=s(5),r=s(6),a=s(7),o=s(8);e.default=class{constructor(t,e){this.observer=new i.default,this.root=t,this.config=e,this.tumblers=new n.default(e,this.observer.broadcast),this.scale=new a.default(e,this.observer.broadcast),this.line=new o.default(e,this.observer.broadcast),this.selected=new r.default(e)}render(){const{root:t,config:e}=this,s=document.createElement("div");s.className="range-slider  js-range-slider  range-slider_orient_"+e.orient,s.append(this.line.render()),s.append(this.scale.render()),this.tumblers.render().forEach(t=>{this.line.element.append(t)}),this.line.element.append(this.selected.render()),this.element=s,t.innerHTML="",t.append(this.element)}updateView(t){const{firstCoordinate:e,secondCoordinate:s}=t;this.tumblers.update(e,s),this.selected.update(e,s),this.scale.update(e,s)}}},function(t,e,s){},function(t,e,s){"use strict";var i,n,r,a,o,l,c=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};Object.defineProperty(e,"__esModule",{value:!0});const h=s(0);i=new WeakMap,n=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,e.default=class{constructor(t,e){this.render=()=>{const{config:t}=this,e=[];for(let s=0;s<2;s+=1){const a=document.createElement("div");a.className="js-range-slider__tumbler range-slider__tumbler  range-slider__tumbler_orient_"+t.orient,a.tabIndex=0;const l=c(this,o).call(this);a.append(l),a.addEventListener("mousedown",c(this,i)),a.addEventListener("keydown",c(this,r)),a.addEventListener("focus",c(this,n)),t.type===h.POINT&&0===s&&(a.style.display="none"),e.push(a)}return this.elements=e,this.elements},i.set(this,t=>{t.preventDefault();const{config:e}=this,s=t.target.closest(".js-range-slider__tumbler"),i=s.querySelector(".js-range-slider__cloud "),n=s===this.elements[0];e.cloud===h.CLICK&&(i.style.display="block"),document.body.style.cursor="pointer";const r=t=>{c(this,a).call(this,t,n)};document.addEventListener("mousemove",r),document.onmouseup=()=>{document.removeEventListener("mousemove",r),e.cloud===h.CLICK&&(i.style.display="none"),document.body.style.cursor="auto",document.onmouseup=null}}),n.set(this,t=>{const{config:e}=this,s=t.target,i=s.querySelector(".js-range-slider__cloud ");e.cloud===h.CLICK&&(i.style.display="block"),s.onblur=t=>{e.cloud===h.CLICK&&(i.style.display="none"),t.target.onblur=null}}),r.set(this,t=>{const{config:e,callback:s}=this,i=t.target===this.elements[0];if("ArrowDown"===t.key&&e.orient===h.VERTICAL||"ArrowLeft"===t.key&&e.orient!==h.VERTICAL){const e={endPosition:-1};s(h.TEPPEING,i?{startPosition:-1}:e),t.preventDefault()}else("ArrowUp"===t.key&&e.orient===h.VERTICAL||"ArrowRight"===t.key&&e.orient!==h.VERTICAL)&&(s(h.TEPPEING,i?{startPosition:1}:{endPosition:1}),t.preventDefault())}),a.set(this,(t,e)=>{const s=this.elements[0].closest(".js-range-slider"),i=(s.getBoundingClientRect().bottom-t.clientY)/s.getBoundingClientRect().height*100,n=(t.clientX-s.getBoundingClientRect().left)/s.getBoundingClientRect().width*100,r=this.config.orient===h.VERTICAL?i:n;e?this.callback(h.DRAG,{startPosition:r}):this.callback(h.DRAG,{endPosition:r})}),o.set(this,()=>{const t=document.createElement("div");t.className="js-range-slider__cloud range-slider__cloud  range-slider__cloud_orient_"+this.config.orient;const e=document.createElement("b");return e.className="js-range-slider__cloud-value range-slider__cloud-value",t.append(e),this.config.cloud!==h.ALWAYS&&(t.style.display="none"),t}),l.set(this,(t,e)=>{const{config:s,elements:i}=this;let n,r;n=(s.rangeOffset/100*t+s.origin).toLocaleString(),r=(s.rangeOffset/100*e+s.origin).toLocaleString(),s.list.length&&(n=s.list[+n].toString(),r=s.list[+r].toString()),i[0].querySelector("b").innerText=n,i[1].querySelector("b").innerText=r}),this.config=t,this.callback=e}update(t,e){const{config:s}=this,i=this.elements[0],n=this.elements[1];s.orient===h.VERTICAL?(i.style.top=100-t+"%",n.style.top=100-e+"%"):(i.style.left=t+"%",n.style.left=e+"%"),100===t?(i.style.zIndex="11",n.style.zIndex="12"):100===e?(i.style.zIndex="12",n.style.zIndex="11"):(i.style.zIndex="11",n.style.zIndex="11"),c(this,l).call(this,t,e)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.default=class{constructor(t){this.config=t}render(){const{config:t}=this,e=document.createElement("div");return e.className="range-slider__selected  range-slider__selected_orient_"+t.orient,this.element=e,this.element}update(t,e){const{config:s}=this,n=this.element;s.orient===i.VERTICAL?(n.style.bottom=t+"%",n.style.top=100-e+"%"):(n.style.left=t+"%",n.style.right=100-e+"%")}}},function(t,e,s){"use strict";var i,n,r,a=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};Object.defineProperty(e,"__esModule",{value:!0});const o=s(0);i=new WeakMap,n=new WeakMap,r=new WeakMap,e.default=class{constructor(t,e){this.render=()=>{const{config:t}=this,e=Math.ceil(t.rangeOffset/t.scaleInterval),s=document.createElement("div");s.className="range-slider__scale  range-slider__scale_orient_"+t.orient,s.append(a(this,r).call(this,t.origin));for(let i=1;i<e;i+=1)if(i!==e-1&&1!==e)s.append(a(this,r).call(this,i*t.scaleInterval+t.origin));else{const e=a(this,r).call(this,i*t.scaleInterval+t.origin);e.style.flexShrink="1",s.append(e)}const i=a(this,r).call(this,t.rangeOffset+t.origin);return t.orient===o.VERTICAL?i.style.height="0px":i.style.width="0px",s.append(i),t.scale||(s.style.display="none"),this.element=s,this.element},i.set(this,t=>{const{orient:e}=this.config,s=t.target.closest(".js-range-slider__scale-division"),i=Number(s.getAttribute("value")),n=e===o.VERTICAL?s.offsetTop+s.offsetHeight:s.offsetLeft,r=e===o.VERTICAL?[...s.closest(".js-range-slider").querySelectorAll(".js-range-slider__tumbler")].map(t=>t.offsetTop+t.offsetHeight):[...s.closest(".js-range-slider").querySelectorAll(".js-range-slider__tumbler")].map(t=>t.offsetLeft+t.offsetWidth/2),a=Math.abs(n-r[0]),l=Math.abs(n-r[1]);this.config.type===o.POINT||a>=l?this.callback(o.SCALE_CLICK,{endPosition:i}):this.callback(o.SCALE_CLICK,{startPosition:i})}),n.set(this,t=>{if("Enter"!==t.code)return;const{orient:e}=this.config,s=t.target.closest(".js-range-slider__scale-division"),i=Number(s.getAttribute("value")),n=e===o.VERTICAL?s.offsetTop+s.offsetHeight:s.offsetLeft,r=e===o.VERTICAL?[...s.closest(".js-range-slider").querySelectorAll(".js-range-slider__tumbler")].map(t=>t.offsetTop+t.offsetHeight):[...s.closest(".js-range-slider").querySelectorAll(".js-range-slider__tumbler")].map(t=>t.offsetLeft+t.offsetWidth/2),a=Math.abs(n-r[0]),l=Math.abs(n-r[1]);this.config.type===o.POINT||a>=l?this.callback(o.SCALE_CLICK,{endPosition:i}):this.callback(o.SCALE_CLICK,{startPosition:i})}),r.set(this,t=>{const{config:e}=this,s=Boolean(e.list.length),r=document.createElement("span");if(r.className="js-range-slider__scale-division range-slider__scale-division  range-slider__scale-division_orient_"+e.orient,e.orient===o.VERTICAL){const t=Math.min(e.scaleInterval/e.rangeOffset*100,100);r.style.height=t+"%"}else{const t=Math.min(e.scaleInterval/e.rangeOffset*100,100);r.style.width=t+"%"}r.setAttribute("value",""+t.toLocaleString());const l=document.createElement("span");return l.className="range-slider__scale-value js-range-slider__scale-value",l.innerHTML=s?e.list[t].toString():t.toLocaleString(),l.tabIndex=0,l.addEventListener("click",a(this,i)),l.addEventListener("keydown",a(this,n)),r.append(l),this.divisions.push(r),r}),this.config=t,this.callback=e,this.divisions=[]}update(t,e){const{config:s}=this,i=this.element,n=s.rangeOffset/100*t+s.origin,r=s.rangeOffset/100*e+s.origin;i.querySelectorAll(".js-range-slider__scale-division").forEach(t=>{const e=t,s=+t.getAttribute("value");s>=n&&s<=r?e.classList.add("range-slider__scale-division_status_active"):e.classList.remove("range-slider__scale-division_status_active")})}}},function(t,e,s){"use strict";var i,n=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};Object.defineProperty(e,"__esModule",{value:!0});const r=s(0);i=new WeakMap,e.default=class{constructor(t,e){i.set(this,t=>{const{orient:e,type:s}=this.config,i=e===r.VERTICAL?t.clientY:t.clientX,n=this.element.closest(".js-range-slider"),a=(n.getBoundingClientRect().bottom-i)/n.getBoundingClientRect().height*100,o=(i-n.getBoundingClientRect().left)/n.getBoundingClientRect().width*100,l=this.config.orient===r.VERTICAL?a:o,c=e===r.VERTICAL?[...t.target.closest(".js-range-slider").querySelectorAll(".js-range-slider__tumbler")].map(t=>t.getBoundingClientRect().top+t.offsetHeight/2):[...t.target.closest(".js-range-slider").querySelectorAll(".js-range-slider__tumbler")].map(t=>t.getBoundingClientRect().left+t.offsetWidth/2),h=Math.abs(i-c[0]),d=Math.abs(i-c[1]);s===r.POINT||h>=d?this.callback(r.DRAG,{endPosition:l}):this.callback(r.DRAG,{startPosition:l})}),this.config=t,this.callback=e}render(){const{config:t}=this,e=document.createElement("div");return e.className="range-slider__line  range-slider__line_orient_"+t.orient,e.addEventListener("click",n(this,i)),this.element=e,this.element}}},function(t,e,s){"use strict";var i,n,r,a,o,l,c,h,d,u=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};Object.defineProperty(e,"__esModule",{value:!0});const f=s(0),g=s(1);i=new WeakMap,n=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakMap,e.default=class{constructor(t){this.updateDirectly=t=>{u(this,i).call(this,u(this,n),t)},this.updateFromPercent=t=>{u(this,i).call(this,u(this,r),t)},this.updateFromStep=t=>{u(this,i).call(this,u(this,a),t)},this.adaptValues=()=>{const{step:t,rangeOffset:e,type:s}=this.config;let i=this.end===e?e:Math.min(e,Math.round(this.end/t)*t),n=Math.min(e,Math.round(this.start/t)*t);if(n===i&&s!==f.POINT){Math.abs(n-this.start)<Math.abs(i-this.end)?i=Math.min(e,i+t):n=Math.ceil(i/t)*t-t}u(this,h).call(this,{start:n,end:i}),u(this,d).call(this)},i.set(this,(t,e)=>{const s=this.start,i=this.end,{newStart:r,newEnd:a}=t(e);switch(t){case u(this,n):u(this,h).call(this,{start:r,end:a}),u(this,d).call(this);break;default:r===s&&a===i||(u(this,h).call(this,{start:r,end:a}),u(this,d).call(this))}}),n.set(this,t=>{const{origin:e,type:s,rangeOffset:i}=this.config,{startPosition:n,endPosition:r}=t,a=this.start,o=this.end;let l=isNaN(n)?a:n-e,c=isNaN(r)?o:r-e;return c=s===f.POINT?Math.max(0,Math.min(c,i)):Math.max(1,Math.min(c,i)),l=s===f.POINT?0:Math.min(c-1,Math.max(0,l)),{newStart:l,newEnd:c}}),r.set(this,t=>{const{rangeOffset:e,step:s}=this.config,{startPosition:i,endPosition:n}=t,r=u(this,c).call(this,i),a=Math.round(r/s)*s,l=u(this,c).call(this,n),h=l>=e-e%s*.5?e:Math.round(l/s)*s;return u(this,o).call(this,[a,h])}),a.set(this,t=>{const{step:e}=this.config,s=this.start,i=this.end,{startPosition:n,endPosition:r}=t;let a,l;return n&&(n<0?a=Math.ceil(s/e)*e+e*n:n>0&&(a=Math.floor(s/e)*e+e*n)),r&&(r<0&&(l=Math.ceil(i/e)*e+e*r),r>0&&(l=Math.floor(i/e)*e+e*r)),u(this,o).call(this,[a,l])}),o.set(this,t=>{const{type:e,rangeOffset:s,step:i}=this.config,[n,r]=t,a=this.start,o=this.end;let l=isNaN(n)?a:Math.max(n,0),c=isNaN(r)?o:Math.min(r,s);const h=e===f.POINT?0:Math.max(Math.ceil(c/i)*i-i,a),d=e===f.POINT?0:Math.min(Math.floor(l/i)*i+i,o);return l=Math.min(l,h),c=Math.max(c,d),{newStart:l,newEnd:c}}),l.set(this,t=>t/(this.config.rangeOffset/100)),c.set(this,t=>t/(100/this.config.rangeOffset)),h.set(this,t=>{this.start=t.start,this.end=t.end,this.config.value=this.config.list.length?[this.config.list[t.start],this.config.list[t.end]]:[(t.start+this.config.origin).toLocaleString(),(t.end+this.config.origin).toLocaleString()]}),d.set(this,()=>{this.observer.broadcast({firstCoordinate:u(this,l).call(this,this.start),secondCoordinate:u(this,l).call(this,this.end)})}),this.config=t,this.observer=new g.default,this.updateDirectly({startPosition:t.initialStart,endPosition:t.initialEnd})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.default=class{constructor(t,e){this.view=t,this.model=e,this.connectLayers()}reactToInteraction(t,e){switch(t){case i.DRAG:this.model.updateFromPercent(e);break;case i.SCALE_CLICK:this.model.updateDirectly(e);break;case i.TEPPEING:this.model.updateFromStep(e)}}reactToUpdate(t){this.view.updateView(t)}connectLayers(){this.model.observer.subscribe(this.reactToUpdate.bind(this)),this.view.observer.subscribe(this.reactToInteraction.bind(this))}}},function(t,e,s){"use strict";var i,n,r,a,o,l,c,h,d,u,f,g,p=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},m=this&&this.__classPrivateFieldSet||function(t,e,s){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,s),s};Object.defineProperty(e,"__esModule",{value:!0});const _=s(0),v=s(12);i=new WeakMap,n=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakMap,u=new WeakMap,f=new WeakMap,g=new WeakMap,e.default=class{constructor(t){i.set(this,void 0),n.set(this,void 0),r.set(this,void 0),a.set(this,void 0),o.set(this,void 0),l.set(this,void 0),c.set(this,void 0),h.set(this,void 0),d.set(this,void 0),u.set(this,void 0),f.set(this,void 0),g.set(this,void 0),this.list=t.list,this.rangeOffset=t.rangeOffset,this.step=t.step,this.origin=t.origin,this.scaleInterval=t.scaleInterval,this.type=t.type,this.orient=t.orient,this.cloud=t.cloud,this.scale=t.scale,this.initialStart=t.initialStart,this.initialEnd=t.initialEnd}get type(){return p(this,i)}set type(t){m(this,i,t===_.RANGE||t===_.POINT?t:p(this,i)||v.default.type)}get orient(){return p(this,n)}set orient(t){m(this,n,t===_.VERTICAL||t===_.HORIZONTAL?t:p(this,n)||v.default.orient)}get cloud(){return p(this,r)}set cloud(t){m(this,r,t===_.NONE||t===_.ALWAYS||t===_.CLICK?t:p(this,r)||v.default.cloud)}get list(){return p(this,d)}set list(t){t&&t.length?(m(this,d,t),this.rangeOffset=t.length,this.origin=0,this.step=1,this.scaleInterval=1):m(this,d,p(this,d)&&p(this,d).length?p(this,d):v.default.list)}get scale(){return p(this,c)}set scale(t){m(this,c,Boolean(t))}get origin(){return p(this,o)}set origin(t){this.list.length?m(this,o,0):m(this,o,isNaN(t)?p(this,o)||v.default.origin:Math.round(+t))}get scaleInterval(){return p(this,h)}set scaleInterval(t){this.list.length?m(this,h,1):m(this,h,isNaN(t)?p(this,h)||v.default.scaleInterval:Math.min(p(this,a),Math.max(1,Math.round(+t))))}get rangeOffset(){return p(this,a)}set rangeOffset(t){this.list.length?m(this,a,this.list.length-1):m(this,a,isNaN(t)?p(this,a)||v.default.rangeOffset:Math.max(1,Math.round(+t))),this.scaleInterval=p(this,h),this.step=p(this,l)}get step(){return p(this,l)}set step(t){this.list.length?m(this,l,1):m(this,l,isNaN(t)?p(this,l)||v.default.step:Math.min(p(this,a),Math.max(1,Math.round(+t))))}get value(){return p(this,u)}set value(t){m(this,u,t)}get initialStart(){return p(this,f)}set initialStart(t){m(this,f,isNaN(t)?this.origin:t)}get initialEnd(){return p(this,g)}set initialEnd(t){m(this,g,isNaN(t)?this.rangeOffset+this.origin:t)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),n={type:i.RANGE,orient:i.HORIZONTAL,cloud:i.CLICK,rangeOffset:100,origin:0,scaleInterval:10,step:1,scale:!1,list:[],value:[]};e.default=n}]);