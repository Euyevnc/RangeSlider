!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);i(1);function n(t){var e=this,i=function(){function t(t){var e=t.origin,i=void 0===e?0:e,n=t.range,s=void 0===n?100:n,r=t.start,o=void 0===r?0:r,l=t.end,a=void 0===l?null:l,h=t.step,c=void 0===h?1:h,d=t.list,u=void 0===d?[null]:d;this.range=s,this.origin=i,this.step=c,null!==u[0]&&(this.range=u.length-1,this.origin=0,this.step=1),this._start=Math.max(o-i,0),this._end=null===a?s:Math.min(s,Math.max(this.start,a-i)),this.value=[this.start+this.origin,this.end+this.origin]}return Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(t){this._start=Math.min(this.end,Math.max(t,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._end},set:function(t){this._end=Math.max(this.start,Math.min(t,this.range))},enumerable:!1,configurable:!0}),t.prototype.update=function(t){if("direct"==t.method)t.endPos&&(this.end=t.endPos-this.origin),t.startPos&&(this.start=t.startPos-this.origin);else if("tepping"==t.method)t.startPos&&(this.start+=t.startPos*this.step),t.endPos&&(this.end+=t.endPos*this.step);else if("scaleClick"==t.method)t.point||Math.abs(t.startPos-this.end)<=Math.abs(t.startPos-this.start)?this.end=t.startPos:this.start=t.startPos;else{var e=this.range/100*t.startPos,i=this.range/100*t.endPos;(i-this.end>=.7*this.step||this.end-i>=.7*this.step||i==this.range)&&(this.end=Math.round(i/this.step)*this.step),(e-this.start>=.7*this.step||this.start-e>=.7*this.step||0==e)&&(this.start=Math.round(e/this.step)*this.step)}t.point&&(this.start=0),this.value=[this.start+this.origin,this.end+this.origin],this.updated(100/this.range*this.start,100/this.range*this.end)},t}(),n=function(){function t(t){var e=t.orient,i=void 0===e?"horizontal":e,n=t.type,s=void 0===n?"range":n;this.type=s,this.inversion="vertical"===i}return t.prototype.shiftReac=function(t){"point"==this.type&&(t.point=!0),this.inversion&&!t.method&&(t.endPos&&(t.endPos=100-t.endPos),t.startPos&&(t.startPos=100-t.startPos)),this.callToModel(t)},t.prototype.updateReact=function(t,e){this.callToView(t,e)},t}(),s=function(){function t(t){var i=t.orient,n=void 0===i?"horizontal":i,s=t.type,r=void 0===s?"range":s,o=t.origin,l=void 0===o?0:o,a=t.range,h=void 0===a?100:a,c=t.meanings,d=void 0===c||c,u=t.interval,g=void 0===u?10:u,p=t.list,v=void 0===p?[null]:p,m=t.tumblerSize,y=void 0===m?"20px":m,f=t.tumblerColor,b=void 0===f?"darkblue":f,_=t.tumblerRoundness,S=void 0===_?"50%":_,w=t.tumblerBorders,P=void 0===w?"none":w,M=t.lineWeight,x=void 0===M?"12px":M,R=t.lineColor,z=void 0===R?"grey":R,L=t.lineRoundness,C=void 0===L?"10px":L,A=t.selectedBackground,k=void 0===A?"blue":A,T=t.selectedWeight,q=void 0===T?"16px":T,B=t.pointerLength,j=void 0===B?"0px":B,E=t.fontSize,O=void 0===E?"12px":E,V=t.pointerColor,U=void 0===V?"grey":V,D=t.pointerColorSelect,H=void 0===D?"blue":D,W=t.pointerScale,X=void 0===W?1.3:W;this.meaningsClass=function(){function t(t){this.orient=t.orient,this.origin=t.origin,this.range=t.range,this.interval=t.interval,this.length=t.length,this.fontSize=t.fontSize,this.color=t.color,this.colorActive=t.colorActive,this.scale=t.scale||1,this.list=t.list,this.list[0]&&(this.origin=0,this.range=this.list.length-1,this.interval=1)}return t.prototype.render=function(t){var i=this,n=Boolean(this.list[0]),s=this.element=e.querySelector(".RangeSlider__meanings"),r=Math.ceil(this.range/this.interval),o=document.createElement("div");o.classList.add("Meaninigs__mainline"),s.append(o);var l=document.createElement("span");l.classList.add("Meaninigs__cell"),l.style.color=this.color,l.style.fontSize=this.fontSize,"vertical"==this.orient?(l.style.height=this.interval/this.range*100+"%",l.style.borderBottom="1px solid "+this.color,l.style.width=this.length):(l.style.width=this.interval/this.range*100+"%",l.style.borderLeft="1px solid "+this.color,l.style.height=this.length);var a=function(t){var e=l.cloneNode(!0);e.classList.add("Meaninigs__cell_meaning_"+t),e.setAttribute("value",""+t);var s=document.createElement("span");return s.innerHTML=n?i.list[t]:t.toString(),e.append(s),o.append(e),e};a(this.origin);for(var h=1;h<r;h++)h!==r-1?a(h*this.interval+this.origin):a(h*this.interval+this.origin).style.flexShrink="1";"vertical"==this.orient?a(this.range+this.origin).style.height="0px":a(this.range+this.origin).style.width="0px",this.element.onclick=function(e){if(e.target.closest(".Meaninigs__cell>span")){var n=+e.target.closest(".Meaninigs__cell").getAttribute("value")-i.origin;t({startPos:n,method:"scaleClick"})}}},t.prototype.update=function(t,e){var i=this;this.element.querySelectorAll(".Meaninigs__cell").forEach((function(n){if("vertical"==i.orient){var s=n;(r=+n.getAttribute("value"))>=i.range/100*t+i.origin&&r<=i.range/100*e+i.origin?(s.style.color=i.colorActive,s.style.borderBottom="1px solid "+i.colorActive,s.style.fontSize="calc( "+i.fontSize+"*"+i.scale+" )",s.style.width="calc( "+i.length+"*"+i.scale+" )",s.classList.add("Meaninigs__cell_status_active")):(s.style.color=i.color,s.style.borderBottom="1px solid "+i.color,s.style.fontSize=i.fontSize,s.style.width=i.length,s.classList.remove("Meaninigs__cell_status_active"))}else{var r,o=n;(r=+n.getAttribute("value"))>=i.range/100*t+i.origin&&r<=i.range/100*e+i.origin?(o.style.color=i.colorActive,o.style.borderLeft="1px solid "+i.colorActive,o.style.fontSize="calc( "+i.fontSize+"*"+i.scale+" )",o.style.height="calc( "+i.length+"*"+i.scale+" )",o.classList.add("Meaninigs__cell_status_active")):(o.style.color=i.color,o.style.borderLeft="1px solid "+i.color,o.style.fontSize=i.fontSize,o.style.height=i.length,o.classList.remove("Meaninigs__cell_status_active"))}}))},t}(),this.LineClass=function(){function t(t){this.orient=t.orient,this.weight=t.weight,this.color=t.color,this.roundness=t.roundness}return t.prototype.render=function(){var t=this.element=e.querySelector(".RangeSlider__line");"vertical"==this.orient?t.style.width=this.weight:t.style.height=this.weight,t.style.background=this.color,t.style.borderRadius=this.roundness},t}(),this.TumblerClass=function(){function t(t){this.html="<span tabindex= \"1\"; class='RangeSlider__tumbler'> </span>",this.orient=t.orient,this.type=t.type,this.size=t.size,this.color=t.color,this.roundness=t.roundness}return t.prototype.render=function(t){var i=this;this.elements=e.querySelectorAll(".RangeSlider__tumbler"),this.elements.forEach((function(n,s){var r=n;r.style.height=i.size,r.style.width=i.size,r.style.background=i.color,r.style.borderRadius=i.roundness,r.style.border=i.borders,r.style.transform="vertical"==i.orient?"translateY(50%)":"translateX(-50%)","vertical"==i.orient?r.style.marginLeft="calc( (-"+i.size+" + "+r.parentElement.style.width+") /2)":r.style.marginTop="calc((-"+i.size+" + "+r.parentElement.style.height+")/2)","point"===i.type&&0===s&&(r.style.display="none"),r.onmousedown=function(n){n.preventDefault(),e.onmousemove=function(s){var r=n.target,o=e.querySelector(".RangeSlider"),l="vertical"===i.orient?(s.clientY-o.getBoundingClientRect().y)/o.getBoundingClientRect().height*100:(s.clientX-o.getBoundingClientRect().x)/o.getBoundingClientRect().width*100;r.nextSibling?t({startPos:l}):t({endPos:l})},document.onmouseup=function(t){e.onmousemove=null,document.onmouseup=null}},r.onfocus=function(e){var n=e.target;document.onkeydown=function(e){"ArrowDown"===e.key&&"vertical"===i.orient||"ArrowLeft"===e.key&&"vertical"!==i.orient?n.nextSibling?t({startPos:-1,method:"tepping"}):t({endPos:-1,method:"tepping"}):("ArrowUp"===e.key&&"vertical"===i.orient||"ArrowRight"===e.key&&"vertical"!==i.orient)&&(n.nextSibling?t({startPos:1,method:"tepping"}):t({endPos:1,method:"tepping"}))},e.target.onblur=function(t){document.onkeydown=null}}}))},t}(),this.SelectedClass=function(){function t(t){this.html="<div class='RangeSlider__selected'></div>",this.orient=t.orient,this.color=t.color,this.weight=t.weight,this.roundness=t.roundness}return t.prototype.render=function(){var t=this.element=e.querySelector(".RangeSlider__selected");"vertical"==this.orient?t.style.marginLeft="calc( (-"+this.weight+" + "+t.parentElement.style.width+") /2)":t.style.marginTop="calc( (-"+this.weight+" + "+t.parentElement.style.height+") /2)","vertical"==this.orient?t.style.width=this.weight:t.style.height=this.weight,t.style.background=this.color,t.style.borderRadius=this.roundness},t}(),this.element,this.orient=n,this.meaning=d,this.tumbler=new this.TumblerClass({orient:n,type:r,size:y,color:b,roundness:S,borders:P}),this.line=new this.LineClass({orient:n,weight:x,color:z,roundness:C}),this.selected=new this.SelectedClass({roundness:C,orient:n,weight:q,color:k}),this.meaning&&(this.meanings=new this.meaningsClass({list:v,orient:n,origin:l,range:h,interval:g,color:U,colorActive:H,length:j,fontSize:O,scale:X}))}return t.prototype.render=function(){e.innerHTML="<div class='RangeSlider RangeSlider_orient_"+this.orient+"'><div class='RangeSlider__line'> "+this.selected.html+this.tumbler.html+this.tumbler.html+"</div> <div class='RangeSlider__meanings'></div> </div></div>",this.line.render(),this.meaning&&this.meanings.render(this.tumblerShifted),this.tumbler.render(this.tumblerShifted),this.selected.render(),this.element=e.querySelector(".RangeSlider")},t.prototype.viewUpdate=function(t,e){"vertical"==this.orient?(this.tumbler.elements[0].style.bottom=t+"%",this.tumbler.elements[1].style.bottom=e+"%",this.selected.element.style.bottom=t+"%",this.selected.element.style.top=100-e+"%"):(this.tumbler.elements[0].style.left=t+"%",this.tumbler.elements[1].style.left=e+"%",this.selected.element.style.left=t+"%",this.selected.element.style.right=100-e+"%"),this.meaning&&this.meanings.update(t,e)},t}();return{Model:new i(t),Presenter:new n(t),View:new s(t),init:function(){this.View.tumblerShifted=this.Presenter.shiftReac.bind(this.Presenter),this.Presenter.callToModel=this.Model.update.bind(this.Model),this.Model.updated=this.Presenter.updateReact.bind(this.Presenter),this.Presenter.callToView=this.View.viewUpdate.bind(this.View),this.View.render(),this.Presenter.shiftReac({})},getValue:function(){return console.log("Selected range: "+this.Model.value[0]+" — "+this.Model.value[1]),this.Model.value},setValue:function(t,e){this.Presenter.shiftReac({startPos:t,endPos:e,method:"direct"})}}}var s=document.querySelector(".wrapper>div"),r=document.querySelector(".wrapper-two>div"),o=document.querySelector(".wrapper-three>div"),l=document.querySelector(".wrapper-list>div"),a=n.call(s,{type:"range",start:20,end:80,step:10}),h=n.call(r,{type:"point",origin:10,range:90,end:10,step:5,interval:20,pointerLength:"10px",pointerScale:1}),c=n.call(o,{type:"point",orient:"vertical",origin:0,interval:1,range:10,end:5,pointerLength:"10px"}),d=n.call(l,{type:"range",list:["Я","Мы","Вы","Ты"],end:2});a.init(),h.init(),c.init(),d.init()},function(t,e,i){}]);